<div id="page-header">
  <h1>
    <% if target.respond_to? :display_name %>
      <%= link_to_if can?(:read, target), target.display_name, target %>
      &gt;
    <% elsif target.respond_to? :name %>
      <%= link_to_if can?(:read, target), target.name, target %>
      &gt;
    <% elsif target.respond_to? :customer and !target.customer.nil? %>
      <%= link_to_if can?(:read, target.customer), target.customer.name, target.customer %> 
      &gt;
    <% end %>
    <% if target.respond_to? :kase and !target.kase.nil? %>
      <%= link_to_if can?(:read, target.kase), "Case Opened #{target.kase.open_date.strftime("%v")}", target.kase %> 
      &gt; 
    <% end %>
    <%= target.new_record? ? "New" : "" %>
    <%= name %>
  </h1>
</div>
